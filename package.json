{
  "name": "solink-landing-plus-dashboard",
  "private": true,
  "version": "0.1.0",
  "scripts": {
    "dev": "next dev",
    "seed:demo": "tsx scripts/seed-demo.ts",
    "build": "next build",

    // ❌ Old: ran migrations during Vercel build → causes P1002 on serverless
    // "vercel-build": "prisma migrate deploy && next build",

    // ✅ New: skip DB migrations on Vercel build; just ensure client is generated
    "vercel-build": "node scripts/skip-migrate-on-vercel.cjs && next build",

    "start": "next start",
    "lint": "next lint",
    "lint:fix": "next lint --fix",
    "format": "prettier --write \"{app,components,lib,types}/**/*.{ts,tsx,js,jsx,json,css,md}\"",
    "format:check": "prettier --check \"{app,components,lib,types}/**/*.{ts,tsx,js,jsx,json,css,md}\"",
    "type-check": "tsc -p tsconfig.json --noEmit",
    "ci:verify": "npm run lint && npm run type-check && npm run build",
    "prisma:generate": "prisma generate",
    "prisma:migrate": "prisma migrate deploy",
    "postinstall": "prisma generate || echo \"skip prisma generate\""
  },
  "engines": {
    "node": "22.x"
  }
}
